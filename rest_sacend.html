<!-- rest_sacend.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Verify • Fixora</title>
  <link rel="stylesheet" href="css/rest_sacend.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

  <main class="page-wrap">
    <section class="verify-card">
      <!-- Left panel (image + text) -->
      <aside class="left-panel">
        <div class="left-inner">
          <img class="brand-mark" src="image/home-logo.png" alt="Fixora logo">
          <h2 class="left-title">Reset your password</h2>
          <p class="left-sub">
            Enter your Registered Mobile Number, And
            We'll Send You Verification Code To Reset
            password
          </p>
        </div>
      </aside>

      <!-- Right panel (form) -->
      <div class="verify-box">
        <header class="v-head">
          <a class="back" href="rest_start.html"><i class="fa-solid fa-arrow-left"></i> Back</a>
          <span class="step">
            <span class="step-text">Step 2 of 3</span>
            <a href="rest_start.html">Reset password</a>
          </span>
        </header>

        <h3 class="v-title">Check Your SMS</h3>
        <p class="v-desc">
          Enter the 6-digit code we sent to your mobile number 97••••••••• to
          reset your password.
        </p>

        <!-- ✅ الفورم يرسل إلى PHP -->
        <!-- <form class="otp" action="php/rest-sacend.php" method="post" autocomplete="one-time-code">
          <input name="d1" type="text" inputmode="numeric" maxlength="1" aria-label="Digit 1" required>
          <input name="d2" type="text" inputmode="numeric" maxlength="1" aria-label="Digit 2" required>
          <input name="d3" type="text" inputmode="numeric" maxlength="1" aria-label="Digit 3" required>
          <input name="d4" type="text" inputmode="numeric" maxlength="1" aria-label="Digit 4" required>
          <input name="d5" type="text" inputmode="numeric" maxlength="1" aria-label="Digit 5" required>
          <input name="d6" type="text" inputmode="numeric" maxlength="1" aria-label="Digit 6" required>

            <button class="btn-primary" type="submit">Verify</button>
        </form> -->



          <form class="otp" action="php/rest-sacend.php" method="post" autocomplete="one-time-code">
  <div class="otp-inputs">
    <input name="d1" type="text" inputmode="numeric" maxlength="1" required>
    <input name="d2" type="text" inputmode="numeric" maxlength="1" required>
    <input name="d3" type="text" inputmode="numeric" maxlength="1" required>
    <input name="d4" type="text" inputmode="numeric" maxlength="1" required>
    <input name="d5" type="text" inputmode="numeric" maxlength="1" required>
    <input name="d6" type="text" inputmode="numeric" maxlength="1" required>
  </div>

  <button class="btn-primary" type="submit">Verify</button>
</form>
        <div class="v-foot">
          Didn’t receive a code? <a href="php/rest-sacend.php?resend=1">Resend code</a>
        </div>
      </div>
    </section>
  </main>

  <script>
    // أوتو فوكس بين خانات OTP + دعم اللصق
    const inputs = document.querySelectorAll('.otp input');
    inputs.forEach((inp, i) => {
      inp.addEventListener('input', () => {
        inp.value = inp.value.replace(/\D/g,'').slice(0,1);
        if (inp.value && i < inputs.length - 1) inputs[i+1].focus();
      });
      inp.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && !inp.value && i > 0) inputs[i-1].focus();
      });
      inp.addEventListener('paste', (e) => {
        const txt = (e.clipboardData || window.clipboardData).getData('text').replace(/\D/g,'').slice(0,6);
        if (!txt) return;
        e.preventDefault();
        [...txt].forEach((ch, j) => { if (i + j < inputs.length) inputs[i + j].value = ch; });
        const last = Math.min(i + txt.length, inputs.length - 1);
        inputs[last].focus();
      });
    });
  </script>
</body>
</html>